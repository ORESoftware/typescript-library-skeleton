{
  "version": 2,
  "jobs": {
    "build": {
      "docker": [
        {
          "image": "circleci/node:10"
        }
      ],
      "steps": [
        "checkout",
        {
          "restore_cache": {
            "key":   "v1-dependencies-{{ checksum \"package.json\" }}"
          }
        },
            {
                  "run":"sudo mkdir -p $HOME/.r2g/temp/project"
                },
        {
          "run":"sudo chmod -R 777 $HOME"
        },
        {
          "run":
            "sudo npm install -g --loglevel=warn @oresoftware/r2g"

        },
       {
                  "run":
                    "npm install --loglevel=warn"

         },
        {
          "save_cache": {
            "paths": [
              "node_modules"
            ],
            "key": "v1-dependencies-{{ checksum \"package.json\" }}"
          }
        },
        {
          "run": "sudo r2g run"

        }
      ]
    }
  }
}
